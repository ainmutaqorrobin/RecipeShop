import{a as P,b as I}from"./chunk-SOGY64EY.js";import{A as f,B as h,Ba as U,C as l,D as _,F as C,G as d,H as w,I as x,L,M,N as V,O as F,P as N,X as k,Z as D,_ as T,aa as A,ca as O,da as j,ea as q,ja as Q,l as y,ma as R,n as S,o as E,oa as $,p,q as u,t as a,u as v,w as g,wa as G,x as b,y as o,z as s}from"./chunk-5MNRTRAW.js";var Y=["form"];function Z(n,e){if(n&1){let c=h();o(0,"button",13),l("click",function(){p(c);let i=_();return u(i.onDelete())}),d(1,"Delete"),s()}}var B=(()=>{let e=class e{constructor(t){this.SLService=t}ngOnInit(){this.subscription=this.SLService.startEditIngredient.subscribe(t=>{this.editMode=!0,this.editedIngredientIndex=t,this.editedItem=this.SLService.getIngredient(t),this.SLForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onAddItem(t){let i=t.value,r=new P(i.name,i.amount);this.editMode?this.SLService.updateIngredient(this.editedIngredientIndex,r):this.SLService.addIngredient(r),this.editMode=!1,t.reset()}onDelete(){this.SLService.deleteIngredient(this.editedIngredientIndex),this.onClear()}onClear(){this.SLForm.reset(),this.editMode=!1}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(v(I))},e.\u0275cmp=S({type:e,selectors:[["app-shopping-edit"]],viewQuery:function(i,r){if(i&1&&M(Y,5),i&2){let m;L(m=V())&&(r.SLForm=m.first)}},decls:20,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["form","ngForm"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]\\d*$",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){if(i&1){let m=h();o(0,"div",0)(1,"div",1)(2,"form",2,3),l("ngSubmit",function(){p(m);let K=C(3);return u(r.onAddItem(K))}),o(4,"div",0)(5,"div",4)(6,"label",5),d(7,"Name"),s(),f(8,"input",6),s(),o(9,"div",7)(10,"label",8),d(11,"Amount"),s(),f(12,"input",9),s()(),o(13,"div",0)(14,"div",1)(15,"button",10),d(16),s(),b(17,Z,2,0,"button",11),o(18,"button",12),l("click",function(){return r.onClear()}),d(19,"Clear"),s()()()()()()}if(i&2){let m=C(3);a(15),g("disabled",m.invalid),a(1),w(r.editMode?"Update":"Add"),a(1),g("ngIf",r.editMode)}},dependencies:[j,k,q,D,T,Q,R,O,A,N]});let n=e;return n})();function te(n,e){if(n&1){let c=h();o(0,"a",4),l("click",function(){let r=p(c).index,m=_();return u(m.onEditItem(r))}),d(1),o(2,"b"),d(3,"x"),s(),d(4),s()}if(n&2){let c=e.$implicit;a(1),x(" ",c.name," "),a(3),x(" ",c.amount," ")}}var H=(()=>{let e=class e{constructor(t){this.SLService=t}ngOnInit(){this.ingredients=this.SLService.getAllIngredients(),this.activatedSubject=this.SLService.ingredientsChanged.subscribe(t=>{this.ingredients=t})}onEditItem(t){this.SLService.startEditIngredient.next(t)}ngOnDestroy(){this.activatedSubject.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(v(I))},e.\u0275cmp=S({type:e,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1),f(2,"app-shopping-edit")(3,"hr"),o(4,"ul",2),b(5,te,5,2,"a",3),s()()()),i&2&&(a(5),g("ngForOf",r.ingredients))},dependencies:[F,B]});let n=e;return n})();var le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=E({type:e}),e.\u0275inj=y({imports:[$,G.forChild([{path:"",component:H}]),U]});let n=e;return n})();export{le as ShoppingListModule};
