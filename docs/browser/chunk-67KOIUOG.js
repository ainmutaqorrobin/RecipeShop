import{b as l}from"./chunk-SOGY64EY.js";import{S as u,a as o,b as a,c as h,f,j as m,k as c,m as s}from"./chunk-5MNRTRAW.js";var p=(()=>{let i=class i{constructor(e){this.SLService=e,this.recipeChanged=new h,this.recipes=[]}overrideRecipes(e){this.recipes=e,this.recipeChanged.next(this.recipes.slice())}getRecipes(){return this.recipes.slice()}getRecipesFromID(e){return this.recipes[e]}addIngredientsToShoppingList(e){this.SLService.addIngredients(e)}addRecipe(e){this.recipes.push(e),this.recipeChanged.next(this.recipes.slice())}updateRecipe(e,t){this.recipes[e]=t,this.recipeChanged.next(this.recipes.slice())}deleteRecipe(e){this.recipes.splice(e,1),this.recipeChanged.next(this.recipes.slice())}};i.\u0275fac=function(t){return new(t||i)(s(l))},i.\u0275prov=c({token:i,factory:i.\u0275fac});let r=i;return r})();var S=(()=>{let i=class i{constructor(e,t){this.http=e,this.recipeService=t,this.recipeurl="https://ng-project-18616-default-rtdb.firebaseio.com/recipes.json"}saveRecipes(){let e=this.recipeService.getRecipes();return this.http.put(this.recipeurl,e).subscribe(t=>console.log(t))}fetchRecipes(){return this.http.get(this.recipeurl).pipe(f(e=>e.map(t=>a(o({},t),{ingredients:t.ingredients?t.ingredients:[]}))),m(e=>{this.recipeService.overrideRecipes(e)}))}};i.\u0275fac=function(t){return new(t||i)(s(u),s(p))},i.\u0275prov=c({token:i,factory:i.\u0275fac});let r=i;return r})();var y=(()=>{let i=class i{constructor(e,t){this.dataStorageService=e,this.recipeService=t}resolve(e,t){let n=this.recipeService.getRecipes();return n.length===0?this.dataStorageService.fetchRecipes():n}};i.\u0275fac=function(t){return new(t||i)(s(S),s(p))},i.\u0275prov=c({token:i,factory:i.\u0275fac});let r=i;return r})();export{p as a,S as b,y as c};
