import{a as G,b as w,c as K}from"./chunk-67KOIUOG.js";import{b as z}from"./chunk-SOGY64EY.js";import{a as s}from"./chunk-MCLQF2L7.js";import{A as d,B as y,Ba as Q,C,D as x,G as a,J as D,O as F,P as L,R as T,T as E,U as H,V as j,W as N,h as k,i as I,k as R,l as p,m as A,n as S,o as m,p as _,pa as O,q as b,ra as V,t as l,ta as P,u as f,ua as B,va as q,w as u,wa as M,x as h,xa as J,y as o,z as n}from"./chunk-5MNRTRAW.js";function re(t,e){t&1&&d(0,"span",14)}function oe(t,e){t&1&&(o(0,"li",9)(1,"a",15),a(2,"Recipes"),n()())}function ne(t,e){t&1&&(o(0,"li",9)(1,"a",16),a(2,"Authentication"),n()())}function ae(t,e){if(t&1){let g=y();o(0,"a",17),C("click",function(){_(g);let i=x();return b(i.onLogOut())}),a(1,"Logout"),n()}}function ce(t,e){if(t&1){let g=y();o(0,"li",18)(1,"a",19),a(2,"Manage "),d(3,"span",20),n(),o(4,"ul",21)(5,"li")(6,"a",17),C("click",function(){_(g);let i=x();return b(i.onSaveData())}),a(7,"Save Data"),n()(),o(8,"li")(9,"a",17),C("click",function(){_(g);let i=x();return b(i.onFetchData())}),a(10,"Fetch Data"),n()()()()}}var se=()=>[1,2,3],W=(()=>{let e=class e{constructor(r,i){this.dataStorageService=r,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSubs=this.authService.user.subscribe(r=>{r?this.isAuthenticated=!this.isAuthenticated:this.isAuthenticated=!1})}onSaveData(){this.dataStorageService.saveRecipes()}onFetchData(){this.dataStorageService.fetchRecipes().subscribe()}onLogOut(){this.authService.logout()}ngOnDestroy(){this.userSubs.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(f(w),f(s))},e.\u0275cmp=S({type:e,selectors:[["app-header"]],decls:18,vars:6,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],[1,"navbar-toggle"],["class","icon-bar",4,"ngFor","ngForOf"],["routerLink","/",1,"navbar-brand"],[1,"navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active",4,"ngIf"],["routerLinkActive","active"],["routerLink","/shopping-list"],[1,"nav","navbar-nav","navbar-right"],["style","cursor: pointer",3,"click",4,"ngIf"],["class","dropdown","appDropdown","",4,"ngIf"],[1,"icon-bar"],["routerLink","/recipes"],["routerLink","/signup"],[2,"cursor","pointer",3,"click"],["appDropdown","",1,"dropdown"],["role","button",1,"dropdown","toggle"],[1,"caret"],[1,"dropdown-menu"]],template:function(i,c){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),h(4,re,1,0,"span",4),n(),o(5,"a",5),a(6,"Robin Recipe Book"),n()(),o(7,"div",6)(8,"ul",7),h(9,oe,3,0,"li",8)(10,ne,3,0,"li",8),o(11,"li",9)(12,"a",10),a(13,"Shopping List"),n()()(),o(14,"ul",11)(15,"li"),h(16,ae,2,0,"a",12),n(),h(17,ce,11,0,"li",13),n()()()()),i&2&&(l(4),u("ngForOf",D(5,se)),l(5),u("ngIf",c.isAuthenticated),l(1),u("ngIf",!c.isAuthenticated),l(6),u("ngIf",c.isAuthenticated),l(1),u("ngIf",c.isAuthenticated))},dependencies:[F,L,P,B,J],encapsulation:2});let t=e;return t})();var X=(()=>{let e=class e{constructor(r){this.authService=r}ngOnInit(){this.authService.autoLogin()}};e.\u0275fac=function(i){return new(i||e)(f(s))},e.\u0275cmp=S({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,c){i&1&&(d(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2),d(4,"router-outlet"),n()()())},dependencies:[V,W],styles:["h3[_ngcontent-%COMP%]{color:#00008b}"]});let t=e;return t})();var me=[{path:"",redirectTo:"/recipes",pathMatch:"full"},{path:"recipes",loadChildren:()=>import("./chunk-C2AHHZQ2.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-OH7XZ6C2.js").then(t=>t.ShoppingListModule)},{path:"signup",loadChildren:()=>import("./chunk-S7OBP44Z.js").then(t=>t.AuthModule)}],Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e}),e.\u0275inj=p({imports:[M.forRoot(me,{preloadingStrategy:q}),M]});let t=e;return t})();var Z=(()=>{let e=class e{constructor(r){this.authService=r}intercept(r,i){return this.authService.user.pipe(k(1),I(c=>{if(!c)return i.handle(r);let te=r.clone({params:new T().set("auth",c.token)});return i.handle(te)}))}};e.\u0275fac=function(i){return new(i||e)(A(s))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();var $=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e}),e.\u0275inj=p({providers:[z,G,w,K,s,{provide:E,useClass:Z,multi:!0}]});let t=e;return t})();var ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m({type:e,bootstrap:[X]}),e.\u0275inj=p({imports:[N,Y,O,H,Q,$]});let t=e;return t})();j().bootstrapModule(ee).catch(t=>console.error(t));
